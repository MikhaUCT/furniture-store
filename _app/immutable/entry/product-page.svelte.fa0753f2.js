import{S as ie,i as oe,s as ce,k as b,l as I,m as k,h as f,n as E,b as L,H as ne,X as ve,C as pe,D as we,E as u,y as W,a as C,q as y,z as X,c as B,r as M,W as Ee,A as J,u as K,g as S,d as H,B as O,p as _e,v as de,f as me,R as ke,e as De,Q as He,o as Le,V as ye}from"../chunks/index.e90e152c.js";import{L as Me}from"../chunks/Loading.87f1a3a1.js";import{R as Be,A as ze}from"../chunks/Rating.aa01ec47.js";import{P as Te}from"../chunks/stores.0216a6f1.js";function be(n,t,l){const e=n.slice();return e[1]=t[l],e}function Ie(n){let t,l;return{c(){t=pe("svg"),l=pe("path"),this.h()},l(e){t=we(e,"svg",{viewBox:!0,class:!0});var r=k(t);l=we(r,"path",{d:!0}),k(l).forEach(f),r.forEach(f),this.h()},h(){E(l,"d","M49.553 5l11.226 34.549h36.327l-29.39 21.353 11.226 34.549-29.389-21.353-29.389 21.353L31.39 60.902 2 39.549h36.327L49.553 5z"),E(t,"viewBox","0 0 99 100"),E(t,"class","svelte-14lu3qa")},m(e,r){L(e,t,r),u(t,l)},p:ne,d(e){e&&f(t)}}}function Ge(n){let t,l=new Array(n[0]),e=[];for(let r=0;r<l.length;r+=1)e[r]=Ie(be(n,l,r));return{c(){t=b("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=I(r,"DIV",{class:!0});var s=k(t);for(let i=0;i<e.length;i+=1)e[i].l(s);s.forEach(f),this.h()},h(){E(t,"class","rating")},m(r,s){L(r,t,s);for(let i=0;i<e.length;i+=1)e[i].m(t,null)},p(r,[s]){if(s&1){l=new Array(r[0]);let i;for(i=0;i<l.length;i+=1){const $=be(r,l,i);e[i]?e[i].p($,s):(e[i]=Ie(),e[i].c(),e[i].m(t,null))}for(;i<e.length;i+=1)e[i].d(1);e.length=l.length}},i:ne,o:ne,d(r){r&&f(t),ve(e,r)}}}function Qe(n,t,l){let{rating:e}=t;return n.$$set=r=>{"rating"in r&&l(0,e=r.rating)},[e]}class je extends ie{constructor(t){super(),oe(this,t,Qe,Ge,ce,{rating:0})}}function Ve(n){let t=n[0].comment+"",l;return{c(){l=y(t)},l(e){l=M(e,t)},m(e,r){L(e,l,r)},p(e,r){r&1&&t!==(t=e[0].comment+"")&&K(l,t)},d(e){e&&f(l)}}}function We(n){let t,l,e,r,s,i,$=n[0].userName+"",v,P,o;r=new je({props:{rating:n[0].rating}});let c=n[0].comment&&Ve(n);return{c(){t=b("div"),l=b("div"),e=b("div"),W(r.$$.fragment),s=C(),i=b("div"),v=y($),P=C(),c&&c.c(),this.h()},l(_){t=I(_,"DIV",{class:!0});var h=k(t);l=I(h,"DIV",{class:!0});var p=k(l);e=I(p,"DIV",{class:!0});var A=k(e);X(r.$$.fragment,A),A.forEach(f),s=B(p),i=I(p,"DIV",{class:!0});var q=k(i);v=M(q,$),q.forEach(f),p.forEach(f),P=B(h),c&&c.l(h),h.forEach(f),this.h()},h(){E(e,"class","stars svelte-vlilhj"),E(i,"class","name svelte-vlilhj"),E(l,"class","comment-data svelte-vlilhj"),Ee(l,"inline",!n[0].comment),E(t,"class","review svelte-vlilhj")},m(_,h){L(_,t,h),u(t,l),u(l,e),J(r,e,null),u(l,s),u(l,i),u(i,v),u(t,P),c&&c.m(t,null),o=!0},p(_,[h]){const p={};h&1&&(p.rating=_[0].rating),r.$set(p),(!o||h&1)&&$!==($=_[0].userName+"")&&K(v,$),(!o||h&1)&&Ee(l,"inline",!_[0].comment),_[0].comment?c?c.p(_,h):(c=Ve(_),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(_){o||(S(r.$$.fragment,_),o=!0)},o(_){H(r.$$.fragment,_),o=!1},d(_){_&&f(t),O(r),c&&c.d()}}}function Xe(n,t,l){let{review:e}=t;return n.$$set=r=>{"review"in r&&l(0,e=r.review)},[e]}class Je extends ie{constructor(t){super(),oe(this,t,Xe,We,ce,{review:0})}}function Ke(n){let t,l,e,r,s,i,$,v=`${n[2]}%`,P,o,c,_;return s=new je({props:{rating:1}}),{c(){t=b("div"),l=b("div"),e=y(n[0]),r=C(),W(s.$$.fragment),i=C(),$=b("div"),P=C(),o=b("div"),c=y(n[1]),this.h()},l(h){t=I(h,"DIV",{class:!0});var p=k(t);l=I(p,"DIV",{class:!0});var A=k(l);e=M(A,n[0]),A.forEach(f),r=B(p),X(s.$$.fragment,p),i=B(p),$=I(p,"DIV",{class:!0}),k($).forEach(f),P=B(p),o=I(p,"DIV",{class:!0});var q=k(o);c=M(q,n[1]),q.forEach(f),p.forEach(f),this.h()},h(){E(l,"class","num svelte-11i83hc"),E($,"class","bar svelte-11i83hc"),_e($,"--width",v),_e($,"--color",n[3]),E(o,"class","total svelte-11i83hc"),E(t,"class","row svelte-11i83hc")},m(h,p){L(h,t,p),u(t,l),u(l,e),u(t,r),J(s,t,null),u(t,i),u(t,$),u(t,P),u(t,o),u(o,c),_=!0},p(h,[p]){(!_||p&1)&&K(e,h[0]),p&4&&v!==(v=`${h[2]}%`)&&_e($,"--width",v),(!_||p&2)&&K(c,h[1])},i(h){_||(S(s.$$.fragment,h),_=!0)},o(h){H(s.$$.fragment,h),_=!1},d(h){h&&f(t),O(s)}}}function Oe(n,t,l){let e,{num:r}=t,{reviews:s}=t,{total:i=0}=t,$=(()=>{switch(r){case 5:return"#00A93B";case 4:return"#96D900";case 3:return"#FAE700";case 2:return"#FFA200";case 1:return"#FF1800"}})();return n.$$set=v=>{"num"in v&&l(0,r=v.num),"reviews"in v&&l(1,s=v.reviews),"total"in v&&l(4,i=v.total)},n.$$.update=()=>{n.$$.dirty&18&&l(2,e=s/i*100)},[r,s,e,$,i]}class Ue extends ie{constructor(t){super(),oe(this,t,Oe,Ke,ce,{num:0,reviews:1,total:4})}}function Re(n,t,l){const e=n.slice();return e[2]=t[l],e}function Fe(n){let t,l;return t=new Ue({props:{num:n[2],reviews:n[1][n[2]],total:n[0].reviews.length}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){J(t,e,r),l=!0},p(e,r){const s={};r&2&&(s.reviews=e[1][e[2]]),r&1&&(s.total=e[0].reviews.length),t.$set(s)},i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){H(t.$$.fragment,e),l=!1},d(e){O(t,e)}}}function Ye(n){let t,l,e,r,s=n[0].getRating()+"",i,$,v,P,o,c=n[0].reviews.length+"",_,h,p,A,q;v=new Be({props:{rating:n[0].getRating(),reviewCount:n[0].reviews.length,showNumbers:!1}});let Z=[5,4,3,2,1],D=[];for(let d=0;d<5;d+=1)D[d]=Fe(Re(n,Z,d));const x=d=>H(D[d],1,1,()=>{D[d]=null});return{c(){t=b("div"),l=b("div"),e=b("div"),r=b("div"),i=y(s),$=C(),W(v.$$.fragment),P=C(),o=b("span"),_=y(c),h=y(" Reviews"),p=C(),A=b("div");for(let d=0;d<5;d+=1)D[d].c();this.h()},l(d){t=I(d,"DIV",{class:!0});var V=k(t);l=I(V,"DIV",{class:!0});var j=k(l);e=I(j,"DIV",{class:!0});var w=k(e);r=I(w,"DIV",{class:!0});var G=k(r);i=M(G,s),G.forEach(f),$=B(w),X(v.$$.fragment,w),w.forEach(f),P=B(j),o=I(j,"SPAN",{class:!0});var z=k(o);_=M(z,c),h=M(z," Reviews"),z.forEach(f),j.forEach(f),p=B(V),A=I(V,"DIV",{class:!0});var T=k(A);for(let ee=0;ee<5;ee+=1)D[ee].l(T);T.forEach(f),V.forEach(f),this.h()},h(){E(r,"class","rating svelte-d0658p"),E(e,"class","left svelte-d0658p"),E(o,"class","total-reviews svelte-d0658p"),E(l,"class","totals svelte-d0658p"),E(A,"class","rows"),E(t,"class","review-summary")},m(d,V){L(d,t,V),u(t,l),u(l,e),u(e,r),u(r,i),u(e,$),J(v,e,null),u(l,P),u(l,o),u(o,_),u(o,h),u(t,p),u(t,A);for(let j=0;j<5;j+=1)D[j].m(A,null);q=!0},p(d,[V]){(!q||V&1)&&s!==(s=d[0].getRating()+"")&&K(i,s);const j={};if(V&1&&(j.rating=d[0].getRating()),V&1&&(j.reviewCount=d[0].reviews.length),v.$set(j),(!q||V&1)&&c!==(c=d[0].reviews.length+"")&&K(_,c),V&3){Z=[5,4,3,2,1];let w;for(w=0;w<5;w+=1){const G=Re(d,Z,w);D[w]?(D[w].p(G,V),S(D[w],1)):(D[w]=Fe(G),D[w].c(),S(D[w],1),D[w].m(A,null))}for(de(),w=5;w<5;w+=1)x(w);me()}},i(d){if(!q){S(v.$$.fragment,d);for(let V=0;V<5;V+=1)S(D[V]);q=!0}},o(d){H(v.$$.fragment,d),D=D.filter(Boolean);for(let V=0;V<5;V+=1)H(D[V]);q=!1},d(d){d&&f(t),O(v),ve(D,d)}}}function Ze(n,t,l){let{product:e}=t;const r={5:0,4:0,3:0,2:0,1:0};for(const s of e.reviews)r[s.rating]++;return n.$$set=s=>{"product"in s&&l(0,e=s.product)},[e,r]}class xe extends ie{constructor(t){super(),oe(this,t,Ze,Ye,ce,{product:0})}}function Pe(n,t,l){const e=n.slice();return e[1]=t[l],e}function Ae(n,t,l){const e=n.slice();return e[4]=t[l],e}function Se(n){let t,l=n[4]+"",e;return{c(){t=b("p"),e=y(l)},l(r){t=I(r,"P",{});var s=k(t);e=M(s,l),s.forEach(f)},m(r,s){L(r,t,s),u(t,e)},p(r,s){s&1&&l!==(l=r[4]+"")&&K(e,l)},d(r){r&&f(t)}}}function qe(n){let t,l;return t=new Je({props:{review:n[1]}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){J(t,e,r),l=!0},p(e,r){const s={};r&1&&(s.review=e[1]),t.$set(s)},i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){H(t.$$.fragment,e),l=!1},d(e){O(t,e)}}}function et(n){let t,l,e,r,s,i,$,v=n[0].name+"",P,o,c,_,h,p,A=n[0].price+"",q,Z,D,x=n[0].stock+"",d,V,j,w,G,z,T,ee,te,fe,Y,U;c=new Be({props:{rating:n[0].getRating(),reviewCount:n[0].reviews.length}}),w=new ze({props:{product:n[0]}}),T=new xe({props:{product:n[0]}});let se=n[0].description,N=[];for(let a=0;a<se.length;a+=1)N[a]=Se(Ae(n,se,a));let le=n[0].reviews.sort(Ce),R=[];for(let a=0;a<le.length;a+=1)R[a]=qe(Pe(n,le,a));const Ne=a=>H(R[a],1,1,()=>{R[a]=null});return{c(){t=b("div"),l=b("img"),s=C(),i=b("div"),$=b("h2"),P=y(v),o=C(),W(c.$$.fragment),_=C(),h=b("h3"),p=y("R"),q=y(A),Z=C(),D=b("div"),d=y(x),V=y(" In Stock"),j=C(),W(w.$$.fragment),G=C(),z=b("div"),W(T.$$.fragment),ee=C(),te=b("div");for(let a=0;a<N.length;a+=1)N[a].c();fe=C(),Y=b("div");for(let a=0;a<R.length;a+=1)R[a].c();this.h()},l(a){t=I(a,"DIV",{class:!0});var m=k(t);l=I(m,"IMG",{src:!0,alt:!0,class:!0}),s=B(m),i=I(m,"DIV",{class:!0});var F=k(i);$=I(F,"H2",{});var ue=k($);P=M(ue,v),ue.forEach(f),o=B(F),X(c.$$.fragment,F),_=B(F),h=I(F,"H3",{});var ae=k(h);p=M(ae,"R"),q=M(ae,A),ae.forEach(f),Z=B(F),D=I(F,"DIV",{class:!0});var g=k(D);d=M(g,x),V=M(g," In Stock"),g.forEach(f),j=B(F),X(w.$$.fragment,F),F.forEach(f),m.forEach(f),G=B(a),z=I(a,"DIV",{class:!0});var Q=k(z);X(T.$$.fragment,Q),ee=B(Q),te=I(Q,"DIV",{class:!0});var ge=k(te);for(let re=0;re<N.length;re+=1)N[re].l(ge);ge.forEach(f),Q.forEach(f),fe=B(a),Y=I(a,"DIV",{class:!0});var $e=k(Y);for(let re=0;re<R.length;re+=1)R[re].l($e);$e.forEach(f),this.h()},h(){ke(l.src,e=n[0].image)||E(l,"src",e),E(l,"alt",r=n[0].name),E(l,"class","svelte-1uhnaxq"),E(D,"class","stock"),E(i,"class","details"),E(t,"class","hero card svelte-1uhnaxq"),E(te,"class","description"),E(z,"class","more card svelte-1uhnaxq"),E(Y,"class","reviews card svelte-1uhnaxq")},m(a,m){L(a,t,m),u(t,l),u(t,s),u(t,i),u(i,$),u($,P),u(i,o),J(c,i,null),u(i,_),u(i,h),u(h,p),u(h,q),u(i,Z),u(i,D),u(D,d),u(D,V),u(i,j),J(w,i,null),L(a,G,m),L(a,z,m),J(T,z,null),u(z,ee),u(z,te);for(let F=0;F<N.length;F+=1)N[F].m(te,null);L(a,fe,m),L(a,Y,m);for(let F=0;F<R.length;F+=1)R[F].m(Y,null);U=!0},p(a,[m]){(!U||m&1&&!ke(l.src,e=a[0].image))&&E(l,"src",e),(!U||m&1&&r!==(r=a[0].name))&&E(l,"alt",r),(!U||m&1)&&v!==(v=a[0].name+"")&&K(P,v);const F={};m&1&&(F.rating=a[0].getRating()),m&1&&(F.reviewCount=a[0].reviews.length),c.$set(F),(!U||m&1)&&A!==(A=a[0].price+"")&&K(q,A),(!U||m&1)&&x!==(x=a[0].stock+"")&&K(d,x);const ue={};m&1&&(ue.product=a[0]),w.$set(ue);const ae={};if(m&1&&(ae.product=a[0]),T.$set(ae),m&1){se=a[0].description;let g;for(g=0;g<se.length;g+=1){const Q=Ae(a,se,g);N[g]?N[g].p(Q,m):(N[g]=Se(Q),N[g].c(),N[g].m(te,null))}for(;g<N.length;g+=1)N[g].d(1);N.length=se.length}if(m&1){le=a[0].reviews.sort(Ce);let g;for(g=0;g<le.length;g+=1){const Q=Pe(a,le,g);R[g]?(R[g].p(Q,m),S(R[g],1)):(R[g]=qe(Q),R[g].c(),S(R[g],1),R[g].m(Y,null))}for(de(),g=le.length;g<R.length;g+=1)Ne(g);me()}},i(a){if(!U){S(c.$$.fragment,a),S(w.$$.fragment,a),S(T.$$.fragment,a);for(let m=0;m<le.length;m+=1)S(R[m]);U=!0}},o(a){H(c.$$.fragment,a),H(w.$$.fragment,a),H(T.$$.fragment,a),R=R.filter(Boolean);for(let m=0;m<R.length;m+=1)H(R[m]);U=!1},d(a){a&&f(t),O(c),O(w),a&&f(G),a&&f(z),O(T),ve(N,a),a&&f(fe),a&&f(Y),ve(R,a)}}}const Ce=(n,t)=>t.rating-n.rating-(t.comment?0:5);function tt(n,t,l){let{product:e}=t;return n.$$set=r=>{"product"in r&&l(0,e=r.product)},[e]}class lt extends ie{constructor(t){super(),oe(this,t,tt,et,ce,{product:0})}}const{document:he}=ye;function rt(n){let t,l;return t=new lt({props:{product:n[0]}}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){J(t,e,r),l=!0},p(e,r){const s={};r&1&&(s.product=e[0]),t.$set(s)},i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){H(t.$$.fragment,e),l=!1},d(e){O(t,e)}}}function nt(n){let t,l;return{c(){t=b("h3"),l=y("Product not found")},l(e){t=I(e,"H3",{});var r=k(t);l=M(r,"Product not found"),r.forEach(f)},m(e,r){L(e,t,r),u(t,l)},p:ne,i:ne,o:ne,d(e){e&&f(t)}}}function st(n){let t,l;return t=new Me({}),{c(){W(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,r){J(t,e,r),l=!0},p:ne,i(e){l||(S(t.$$.fragment,e),l=!0)},o(e){H(t.$$.fragment,e),l=!1},d(e){O(t,e)}}}function at(n){let t,l,e,r,s,i;he.title=t="FFFF | "+(n[1]??"Product");const $=[st,nt,rt],v=[];function P(o,c){return o[0]===void 0?0:o[0]===null?1:2}return e=P(n),r=v[e]=$[e](n),{c(){l=C(),r.c(),s=De()},l(o){He("svelte-lsj9hc",he.head).forEach(f),l=B(o),r.l(o),s=De()},m(o,c){L(o,l,c),v[e].m(o,c),L(o,s,c),i=!0},p(o,[c]){(!i||c&2)&&t!==(t="FFFF | "+(o[1]??"Product"))&&(he.title=t);let _=e;e=P(o),e===_?v[e].p(o,c):(de(),H(v[_],1,1,()=>{v[_]=null}),me(),r=v[e],r?r.p(o,c):(r=v[e]=$[e](o),r.c()),S(r,1),r.m(s.parentNode,s))},i(o){i||(S(r),i=!0)},o(o){H(r),i=!1},d(o){o&&f(l),v[e].d(o),o&&f(s)}}}function it(n,t,l){let e,r=null;return Le(()=>{const s=document.location.hash.slice(1);l(0,e=Te.getProduct(s)||null),l(1,r=(e==null?void 0:e.name)||null)}),[e,r]}class vt extends ie{constructor(t){super(),oe(this,t,it,at,ce,{})}}export{vt as default};
