<script lang="ts">
	export let rating: number;
	export let reviewCount: number;
	export let showNumbers: boolean = true;
</script>

{#if reviewCount > 0}
	<div class="rating">
		<svg viewBox="0 0 500 100" width="100" fill="none">
			<mask id="A" maskUnits="userSpaceOnUse" x="2" y="5" width="496" height="91">
				<path
					d="M49.553 5l11.226 34.549h36.327l-29.39 21.353 11.226 34.549-29.389-21.353-29.389 21.353L31.39 60.902 2 39.549h36.327L49.553 5zm100.105 0l11.226 34.549h36.327l-29.389 21.353 11.226 34.549-29.39-21.353-29.389 21.353 11.226-34.549-29.389-21.353h36.327L149.658 5zm100.106 0l11.226 34.549h36.327l-29.389 21.353 11.225 34.549-29.389-21.353-29.389 21.353 11.226-34.549-29.39-21.353h36.327L249.764 5zM349.87 5l11.225 34.549h36.328l-29.39 21.353 11.226 34.549-29.389-21.353-29.389 21.353 11.225-34.549-29.389-21.353h36.327L349.87 5zm100.105 0l11.226 34.549h36.327l-29.389 21.353 11.226 34.549-29.39-21.353-29.389 21.353 11.226-34.549-29.389-21.353h36.327L449.975 5z"
					fill="#d9d9d9"
				/>
			</mask>
			<path
				d="M49.553 5l11.226 34.549h36.327l-29.39 21.353 11.226 34.549-29.389-21.353-29.389 21.353L31.39 60.902 2 39.549h36.327L49.553 5zm100.105 0l11.226 34.549h36.327l-29.389 21.353 11.226 34.549-29.39-21.353-29.389 21.353 11.226-34.549-29.389-21.353h36.327L149.658 5zm100.106 0l11.226 34.549h36.327l-29.389 21.353 11.225 34.549-29.389-21.353-29.389 21.353 11.226-34.549-29.39-21.353h36.327L249.764 5zM349.87 5l11.225 34.549h36.328l-29.39 21.353 11.226 34.549-29.389-21.353-29.389 21.353 11.225-34.549-29.389-21.353h36.327L349.87 5zm100.105 0l11.226 34.549h36.327l-29.389 21.353 11.226 34.549-29.39-21.353-29.389 21.353 11.226-34.549-29.389-21.353h36.327L449.975 5z"
				stroke="var(--gold)"
				stroke-width="5"
			/>
			<g mask="url(#A)">
				<rect height="100" width={rating * 100} class="stars" />
			</g>
		</svg>
		{#if showNumbers}
			<span class="reviews">({reviewCount})</span>
			<span>{rating}</span>
		{/if}
	</div>
{:else}
	<div class="rating">No reviews</div>
{/if}

<style>
	.rating {
		height: 2rem;
		display: flex;
		align-items: center;
	}
	span {
		margin-top: 0.3rem;
		margin-left: 0.5rem;
	}
	.reviews {
		margin-left: 0.25rem;
		color: var(--fg-01);
		font-weight: 100;
	}
	.stars {
		fill: var(--gold);
	}
</style>
